#include "common.h"

info_t info;
fddi_info_t fddi_info;

uint64_t start_time;
pthread_spinlock_t start_spin;
uint64_t end_time;

AntennaTransform transform[12] = {
    // M1
    {.dx = 0, .dy = 268.6774, .dz = 0.8, .h = {{0, 0, 1}, {1.7285, 0, 0}, {0, 0, 0}}},

    // M2
    {.dx = 768.509, .dy = -672.509, .dz = 0.8, .h = {{-1.18E-13, -1.2244, -2}, {0, 1.2244, 0}, {0, 0, 0}}},

    // M3
    {.dx = -768.509, .dy = -672.509, .dz = 0.8, .h = {{-1.09E-13, 1.2244, -2}, {8.78E-14, 1.2244, -1.52E-13}, {0, 0, 0}}},

    // M4
    {.dx = 0, .dy = -77.024, .dz = 0.8, .h = {{0, 0, 1}, {-1.7285, 0, 0}, {0, 0, 0}}},

    // M5
    {.dx = 768.509, .dy = -672.509, .dz = 0.8, .h = {{0, 1.2244, -2}, {0, -1.2244, 0}, {0, 0, 0}}},

    // M6
    {.dx = -768.509, .dy = -672.509, .dz = 0.8, .h = {{9.41E-16, -1.2244, -2}, {-5.63E-15, -1.2244, -9.61E-15}, {0, 0, 0}}},

    // Z1
    {.dx = 125.6176, .dy = 97.1198, .dz = 0.8, .h = {{0.56328, -0.0087312, -1.0708}, {1.7384, -0.0023448, 0.00094025}, {0, 0, 0}}},

    // Z2
    {.dx = -10.7844, .dy = -80.8399, .dz = 0.8, .h = {{0.96062, -1.87E-05, 0.36128}, {-0.57817, -0.00028324, 1.0889}, {0, 0, 0}}},

    // Z3
    {.dx = -28.5757, .dy = -236.7583, .dz = 0.8, .h = {{-0.8621, 0.18354, 0.46931}, {-0.10894, -1.0668, 0.23029}, {0, 0, 0}}},

    // Z4
    {.dx = -14.5919, .dy = -55.015, .dz = 0.8, .h = {{0.61339, 0.027232, -1.0907}, {-1.3799, 0.23553, -0.096086}, {0, 0, 0}}},

    // Z5
    {.dx = -119.5133, .dy = -212.6565, .dz = 0.8, .h = {{-1.0815, 0.3324, 0.00043183}, {0.21696, 0.99639, -0.00062523}, {0, 0, 0}}},

    // Z6
    {.dx = 140.8935, .dy = -189.7522, .dz = 0.8, .h = {{1.161, -0.39097, 0.14368}, {0.14722, 0.85237, -0.61773}, {0, 0, 0}}},
};

void queue_init()
{
	int i;
	for (i = 0; i < END_THREAD; i++)
	{
		init_msg_queue(&info.thread_queue[i], 6);
	}
}